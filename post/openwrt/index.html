<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="ğŸ‘ æ¬¢è¿ä½¿ç”¨OpenWrtï¼ŒOpenWrt æ˜¯ä¸€ä¸ªé«˜åº¦å¯å®šåˆ¶åŒ–çš„å¼€æºé¡¹ç›®ï¼Œå®ƒä¸ºåµŒå…¥å¼è®¾å¤‡æä¾›äº†ä¸€å¥—å¼ºå¤§çš„æ“ä½œç³»ç»Ÿã€‚æœ¬æ•™ç¨‹å°†æŒ‡å¯¼ä½ å¦‚ä½•åœ¨è‡ªå·±çš„ç³»ç»Ÿä¸Šç¼–è¯‘ OpenWrtï¼Œè®©ä½ èƒ½å¤Ÿä¸ºä½ çš„è·¯ç”±å™¨æˆ–å…¶ä»–åµŒå…¥å¼è®¾å¤‡åˆ›å»ºä¸€ä¸ªå®šåˆ¶çš„å›ºä»¶ï¼
ğŸ‘‡ å‰æœŸå‡†..." />
    <meta name="keywords" content="openwrt" />
    <link rel="stylesheet" href="https://dustmm.github.io/media/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://dustmm.github.io/styles/main.css">
    <!-- ä»£ç æ¸²æŸ“é£æ ¼css -->
    
        <link rel="stylesheet" href="https://dustmm.github.io/media/css//dracula.min.css">
    
    <!-- ä»£ç é«˜äº®æ’ä»¶ -->
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.3.1/build/highlight.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.8.0/dist/highlightjs-line-numbers.min.js"></script>
    <!-- ä»£ç å¤åˆ¶æ’ä»¶ -->
    <script src="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/js/clipboard.min.js"></script>
    <!-- live2dæ’ä»¶ -->
    <link rel="stylesheet" href="https://dustmm.github.io/media/css/live2d.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
    <!-- æœ€æ–°ç‰ˆæœ¬çš„ Bootstrap æ ¸å¿ƒ CSS æ–‡ä»¶ -->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.min.css" rel="stylesheet">
    <!-- æ•°å­¦å…¬å¼ -->
    
    <title>OpenWrt ç¼–è¯‘å›ºä»¶</title>

    <!-- å¤§çº²ç´¢å¼•cssè°ƒæ•´ -->
    
    <style>
        .markdownIt-TOC {
            margin-left: 28%;
            padding-left: 2px;
            width: 80%;
        }

        .markdownIt-TOC li {
            padding-left: 8%;
        }
    </style>
    
</head>

<body>
    <div id="landlord">
        <div class="message" style="opacity:0"></div>
        <canvas id="live2d" width="240" height="250" class="live2d"></canvas>
    </div>
    <div id="domainname" style="display:none">https://dustmm.github.io</div>
    <div id="content">
        <div>
            <!----------- ç§»åŠ¨ç«¯å¯¼èˆªæ ğŸ‘‡ ----------------->
            <div id="bar">
                <style>
  .navmobile {
    z-index: 15;
    max-height: 40vh;
    overflow-y: scroll;
    overflow-x: hidden;
  }

  @media screen and (max-width: 1200px) {
    .navbar {
      max-width: 100vw;
    }
  }

  @media screen and (max-width:1200px) and (min-width: 768px) {
    @media (min-width: 768px) {
      .navbar-nav {
        float: right;
        margin: 0;
      }
    }
  }

  @media screen and (max-width:768px) {
    .mbapspan {
      padding: 0;
    }
  }
</style>
<div class="pjaxloading"  onclick="pjaxloadingClose()">
  <div class="loadingbackground"></div>
  <div id="loading">
    <div class="loading">
    </div>
  </div>
</div>
<nav class="navbar navbar-inverse navbar-fixed-top navmobile">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#barmenu"
        aria-expanded="false" id="barbutton">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a data-pjax class="navbar-brand" style="color:white" href="https://dustmm.github.io">Dustin Blog&nbsp;&nbsp;|</a>
      <span class="navbar-brand mbapspan"><i id="mbaplayer" class="fa fa-play-circle-o" aria-hidden="true"
          style="font-size: 28px;top: 12px;position: absolute;" onclick="aplayerPlay();"></i></span>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="barmenu">
      <ul class="nav navbar-nav">
        
        
        <li>
          <a data-pjax href="https://dustmm.github.io" style="color:white">
            é¦–é¡µ
          </a>
        </li>
        
        
        
        <li>
          <a data-pjax href="https://dustmm.github.io/archives" style="color:white">
            å½’æ¡£
          </a>
        </li>
        
        
        
        <li>
          <a data-pjax href="https://dustmm.github.io/tags" style="color:white">
            æ ‡ç­¾
          </a>
        </li>
        
        
        
        <li>
          <a data-pjax href="https://dustmm.github.io/post/about" style="color:white">
            å…³äº
          </a>
        </li>
        
        
        
        
          
        <li><a data-pjax href="https://dustmm.github.io/friends" style="color:white">å‹é“¾</a></li>

        
        </ul>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>


  <!-- å¼•å…¥jQueryæ ¸å¿ƒjsæ–‡ä»¶ -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
  <script>
    let btstate = false;
    var bt = $("#barbutton");
    var bm = $("#barmenu");
    bt.click(function () {
      dropdown();
    })
    function dropdown() {
      console.log(btstate);
      //ä¸‹æ‹‰
      if (btstate == false) {
        bt.removeClass("collapsed");
        bt.attr("aria-expanded", "true");
        bm.attr("aria-expanded", "true")
        bm.fadeIn(700);
        btstate = true;
      }
      else {
        bt.addClass("collapsed");
        bt.attr("aria-expanded", "false");
        bm.removeClass("in");
        bm.hide();
        bm.attr("aria-expanded", "false");
        btstate = false;
      }
    }
  </script> 
            </div>
            <!----------- ç§»åŠ¨ç«¯å¯¼èˆªæ ğŸ‘† ----------------->

            <!--------------- pcç«¯èœå•æ ğŸ‘‡ ---------------->
            <div class="side"><head>
    <link rel="stylesheet" href="https://dustmm.github.io/media/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://dustmm.github.io/styles/main.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.3.1/build/highlight.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.8.0/dist/highlightjs-line-numbers.min.js"></script>
    
        <link rel="stylesheet" href="https://dustmm.github.io/media/css//dracula.min.css">
    
    <script src="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/js/clipboard.min.js"></script>
    <link rel="stylesheet" href="https://dustmm.github.io/media/css/live2d.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
    <!-- æœ€æ–°ç‰ˆæœ¬çš„ Bootstrap æ ¸å¿ƒ CSS æ–‡ä»¶ -->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- fancybox -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


    <!--------- æ•°å­¦å…¬å¼ğŸ‘‡---- -->
    
    <!--------- æ•°å­¦å…¬å¼ğŸ‘†----------------- -->
    <!--------- daovocieåŠŸèƒ½ğŸ‘‡ ------------------->
    
    <!--------- daovocieåŠŸèƒ½ğŸ‘† ------------------->
    <!-- -----------------twikooè¯„è®ºç³»ç»Ÿå¼•å…¥ğŸ‘‡ --------->
    <script src="https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js"></script>
    <!-- -----------------twikooè¯„è®ºç³»ç»Ÿå¼•å…¥ğŸ‘† --------->
    <!---------------- leancloud api åŠŸèƒ½ä¾èµ–å¼•å…¥ğŸ‘‡ -------->
    <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@3.13.0/dist/av-min.js"></script>
    <!---------------- leancloud api åŠŸèƒ½ä¾èµ–å¼•å…¥ğŸ‘† -------->
    <!------------------ valineè¯„è®ºç³»ç»Ÿå¼•å…¥ğŸ‘‡ ------------------>
    <script src="https://dustmm.github.io/media/js/valine.min.js"></script>
    <!------------------ valineè¯„è®ºç³»ç»Ÿå¼•å…¥ğŸ‘† ------------------>
    <!---------------- ä»Šæ—¥è¯—è¯apiåŠŸèƒ½ä¾èµ–ğŸ‘‡ ----------------------->
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <!---------------- ä»Šæ—¥è¯—è¯apiåŠŸèƒ½ä¾èµ–ğŸ‘† ----------------------->
    <!---------------- ä»Šæ—¥è¯—è¯apiåŠŸèƒ½ä¾èµ–ğŸ‘‡ ----------------------->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/ispeak-bber/ispeak-bber.min.js" charset="utf-8"></script>
    <!---------------- å“”å“”åŠŸèƒ½ä¾èµ–ğŸ‘† ----------------------->


</head>

<style>
    body {
        overflow-x: hidden;
        height: 100vh;
        overflow-y: scroll;
        cursor: url("https://dustmm.github.io/media/images/mouse_cursor.png"), auto
    }
</style>

<body>
    <!--=------ é¡µé¢åŠ è½½åŠ¨æ€ç”»é¢ğŸ‘‡ --------------->
    <div class="pjaxloading" onclick="pjaxloadingClose()">
        <div class="loadingbackground"></div>
        <div id="loading-aname">
            <div class="loading-aname">
            </div>
        </div>
    </div>
    <!--=------ é¡µé¢åŠ è½½åŠ¨æ€ç”»é¢ğŸ‘† --------------->

    <!--------------- å·¦ä¾§èœå•æ ğŸ‘‡ ------------------------>
    
    <div id=side>
        <div class="r_m_div">
            <a onclick="showAaplayer()"><i style="font-size: 20px;"><img
                        src='https://dustmm.github.io/media/images/music.png' alt="éŸ³ä¹æ’­æ”¾å™¨" class="musicbtn"></i></a>
        </div>
        <div class="avatar-border">
            <img src="https://dustmm.github.io/images/avatar.png?v=1724125255487" class="avatar">
        </div>
        <div class="sitename">Dustin Blog</div>
        <span class="description" data-text='["æ±‚ä»¥æ¬¢å–œä¹‹å¿ƒï¼Œé¢†å²æœˆä¹‹æ•™è¯²"]'>&nbsp;</span>
        <div class="siteinfocontainer">
            <span class="siteinfo">æ–‡ç« </span>
            <span class="siteinfo">æ ‡ç­¾</span>
        </div>
        <div class="siteinfocontainer">
            <span class="siteinfo" id="siteinfo-postsnum"></span>
            <span class="siteinfo">9</span>
        </div>
        
        <div class="search">
            <!-- <input type="text" class="search-input" placeholder="æ ‡é¢˜æœç´¢(â—'â—¡'â—)" /> -->
            <input type="text" class="search-input" placeholder="æœä½ æƒ³æœ ãƒ¾(=^â–½^=)ã¤â™¡">
            <div class="search-results"></div>
        </div>
        
    <div class="share-button">
        <span>å¦‚æ­Œä¹‹å£°ï¼Œç›¼ä¸æˆ‘é¸£</span>
        
        <a href="https://github.com/wawmb" target="_blank"><i style="font-size: 20px;"><img class="icon"
                    src="https://dustmm.github.io/media/images/github.png" alt=""></i></a>
        
        
        <a onclick="showqq()"><i style="font-size: 20px;"><img class="icon"
                    src="https://dustmm.github.io/media/images/QQ.png" alt=""></i></a>
        
        
        
        <a href="https://space.bilibili.com/614492928" target="_blank"><i style="font-size: 20px;"><img class="icon"
                    src="https://dustmm.github.io/media/images/bilibili.png" alt=""></i></a>
        
        
        <a onclick="showWechat()"><i style="font-size: 20px;"><img class="icon"
                    src="https://dustmm.github.io/media/images/wechat.png" alt=""></i></a>
        
        
        <a href="https://weibo.com/u/5492756016" target="_blank"><i style="font-size: 20px;"><img class="icon"
                    src="https://dustmm.github.io/media/images/weibos.png" alt=""></i></a>
        
        
        <a href="https://music.163.com/#/user/home?id=3334160682" target="_blank"><i style="font-size: 20px;"><img class="icon"
                    src="https://dustmm.github.io/media/images/wyy.png" alt=""></i></a>
        
        
    </div>
    <div id="qq" style="display:none">1642348878</div>
    <!------------ åŠ è½½èœå•æŒ‰é’®ğŸ‘‡ ------------------------->
    <div class="menucontainer">
        
        
        <div class="mchocie description">
            <a data-pjax href="https://dustmm.github.io" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="é¦–é¡µ"></i>&nbsp;<span
                    data-text="é¦–é¡µ">é¦–é¡µ</span>
            </a>
        </div>
        
        
        
        <div class="mchocie description">
            <a data-pjax href="https://dustmm.github.io/archives" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="å½’æ¡£"></i>&nbsp;<span
                    data-text="å½’æ¡£">å½’æ¡£</span>
            </a>
        </div>
        
        
        
        <div class="mchocie description">
            <a data-pjax href="https://dustmm.github.io/tags" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="æ ‡ç­¾"></i>&nbsp;<span
                    data-text="æ ‡ç­¾">æ ‡ç­¾</span>
            </a>
        </div>
        
        
        
        <div class="mchocie description">
            <a data-pjax href="https://dustmm.github.io/post/about" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="å…³äº"></i>&nbsp;<span
                    data-text="å…³äº">å…³äº</span>
            </a>
        </div>
        
        

        
        
        
        <div class="mchocie description">
            <a data-pjax href="https://dustmm.github.io/friends" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="å‹äººå¸"></i>&nbsp;<span data-text="å‹äººå¸">å‹äººå¸</span>
            </a>
        </div>
        
        <!--  -->
    </div>
    <!------------ åŠ è½½èœå•æŒ‰é’®ğŸ‘† ------------------------->
    <hr>
    <style>
    .copyright {
        font-size: 15px;
        color: #d9d9d9;
    }


    @media screen and (min-width: 1200px) {
        .foot {
            width: 100%;
            height: 130px;
        }
    }

    @media screen and (max-width: 1200px) {
        .foot {
            display: none;
        }
    }
</style>

<body>
    <div class="foot">
        <div id="footinfo">Powered by <a href="https://dustmm.github.io/" target="_blank">Dustin</a> | Theme: <a
                href="https://github.com/850552586/gridea-theme-fog">Fog</a>
            <div>
                
            </div>
            <div>
                
            </div>
            <div class="copyright" style="color:white;text-align: center;">Copyright Â© 2024  å¤‡æ¡ˆå·: é—½ICPå¤‡9527å·
            </div>
        </div>



    </div>
</body>

    </div>

    <img class="moon" src="https://dustmm.github.io/media/images/moon.png" onclick="moonlight()">
    <script src="https://dustmm.github.io/media/js/wordshow.js"></script>
    
    <!--------------- å·¦ä¾§èœå•æ ğŸ‘† ------------------------>

    <!----------------- é¡¶éƒ¨èœå•æ ğŸ‘‡ ------------------------>
    
    <!----------------- é¡¶éƒ¨èœå•æ ğŸ‘† ------------------------>

<!--æ ¸å¿ƒåŠŸèƒ½åŠ è½½-->
<script src="https://dustmm.github.io/media/js/mainfunc.js"></script>

<!------------- Fog1.0ç‰ˆæœ¬å½©è›‹ğŸ‘‡ -------------->
    <!-- <section id="terrestrial" class="popup">
        <a href="#" class="back">&lt; back</a>
    </section>

    <div class="flycontainer">
        <div class="flyword">å¾¡é£é£è¡Œä¸­...</div>
    </div>

    <script>
        $("#fog_go").click(function(){fog_go()});
        async function fog_go(){
            $(".bars").hide()
            $("#live2d").hide()
            await sleep(3000);
            $(".flycontainer").css("display","flex");
            $(".popup").fadeOut(500)
            await sleep(2000);
            var sitename = "Dustin Blog";
            getFogUser(sitename);
        }

        function fog_goregis(){
            var sitename = "Dustin Blog";
            var siteurl = "https://dustmm.github.io";
            regisFogUser(sitename,siteurl);
        }
        fog_goregis();
    </script> -->
<!------------- Fog1.0ç‰ˆæœ¬å½©è›‹ğŸ‘† -------------->
<script>
    function change_topmenu(){
        tmcolor = "#fa5252"
        tsnamecolor = "#4c6ef5"
        $(".navbar-inverse .navbar-nav>li>a").css("color",tmcolor)
        $(".navbar-inverse .navbar-brand").css("color",tsnamecolor)
        $(".navbar-fixed-top").css("border-radius","0 0 10px 10px")
    }
</script>

<!------ æ ¹æ®è‡ªå®šä¹‰é…ç½®å£°æ˜å˜é‡ğŸ‘‡ --------------------->
    
    <script>
        var postnumChoice = false
    </script>
    
    
    <script>
        var shareChoice = true
    </script>
    
    
    <script>
        var donateChoice = false
    </script>
    
    
    <script>
        var searchChoice = true
    </script>
    
    <script>let postsnum = 0;</script>
    <div id="side-posttitle" style="display: none;">
    
    
    è®¾å¤‡ç¡¬ä»¶åŠŸèƒ½æµ‹è¯•
    <script>
        postsnum += 1
    </script>
    
    
    
    OpenWrt ç¼–è¯‘å›ºä»¶
    <script>
        postsnum += 1
    </script>
    
    
    
    Linux ä¸ªäººå¸¸ç”¨å‘½ä»¤
    <script>
        postsnum += 1
    </script>
    
    
    
    Samba æœåŠ¡å™¨çš„é…ç½®
    <script>
        postsnum += 1
    </script>
    
    
    
    å®‰å“ Termux è½¯ä»¶
    <script>
        postsnum += 1
    </script>
    
    
    
    GIT çš„å¸¸ç”¨å‘½ä»¤æ“ä½œ
    <script>
        postsnum += 1
    </script>
    
    
    
    WSL çš„å®‰è£…ä¸ä½¿ç”¨
    <script>
        postsnum += 1
    </script>
    
    
    
    Ubuntu æ— äººå€¼å®ˆå®‰è£…
    <script>
        postsnum += 1
    </script>
    
    
    
    Centos æœåŠ¡å™¨çš„æ­å»º
    <script>
        postsnum += 1
    </script>
    
    
    
    
    </div>
    
        <script>
            var menupos = 'left';
            $("#siteinfo-postsnum").html(postsnum);
        </script>
    
    <script>
        let commentsHide = false
    </script>
    <!------ æ ¹æ®è‡ªå®šä¹‰é…ç½®å£°æ˜å˜é‡ğŸ‘† --------------------->


    <!----------æ ¹æ®è‡ªå®šä¹‰é…ç½®è®¾ç½®å›¾æ ‡ä¿¡æ¯ğŸ‘‡---------->
    <script>
        var icondict = new Array();
    </script>
    
        
    
    <!----------æ ¹æ®è‡ªå®šä¹‰é…ç½®è®¾ç½®å›¾æ ‡ä¿¡æ¯ğŸ‘†---------->
</body>

<script src="https://dustmm.github.io/media/share/dist/Share.js"></script>
<!-- é¡µé¢pjaxæµ‹è¯• -->
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.pjax/2.0.1/jquery.pjax.js"></script>
<!--ç¡®ä¿jQueryå·²ç»åœ¨æ­¤ä¹‹å‰åŠ è½½-->
<!-- <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script> -->
<script src="https://dustmm.github.io/media/js/all-pjax.js"></script>
<script>
    //-------------------------------è¯´è¯´åŠŸèƒ½ğŸ‘‡--------------------------------------
    let talksall = [];
    let talks = [];
    let talkindex = 0;
    get();

    function get() {
        var t = JSON.parse('[]');
        talkindex = t.length - 1;
        for (var i = 0; i <= t.length - 1; i++) {
            var d = {};
            d["time"] = t[i].time;
            d["author"] = t[i].author;
            d["text"] = t[i].text;
            d["img"] = t[i].img;
            talksall.push(d);
        }
    }

    function add() {
        for (var i = talkindex; i >= 0 && i > talkindex - 3; i--) {
            talks.push(talksall[i]);
        }
        talkindex = (talkindex - 3) >= 0 ? (talkindex - 3) : -1;
        if (talkindex < 0) $("#getmorebt").hide();
        show();
    }

    function show() {
        var talkT = document.getElementById("talkContainer");
        talkT.innerHTML = "";
        for (var i = 0; i < talks.length; i++) {
            if (talks[i].img != '') {
                talkT.innerHTML += '\
            <div class="talk" v-for="t in talks"> \
                <span data-fancybox="images" href="' + talks[i].img + '"><img src="' + talks[i].img + '" class="talkimg"></span> \
                <div class="ainfo">\
                    <div class="ainfo-intro">\
                        <div class="author">' + talks[i].author + '</div>Â·\
                        <div class="time">' + talks[i].time + '</div>\
                    </div>\
                </div>\
                <div class="talkcontent">' + talks[i].text + '\
                </div\>\
            ';
            } else {
                talkT.innerHTML += '\
            <div class="talk" v-for="t in talks"> \
                <div class="ainfo">\
                    <div class="ainfo-intro">\
                        <div class="author">' + talks[i].author + '</div>Â·\
                        <div class="time">' + talks[i].time + '</div>\
                    </div>\
                </div>\
                <div class="talkcontent">' + talks[i].text + '\
                </div\>\
            ';
            }
        }
    }
    //-------------------------------è¯´è¯´åŠŸèƒ½ğŸ‘†--------------------------------------
</script>

<!---->
<script>
    function replaceAvatar() {
        twikoo_avatar = $(".tk-avatar-img");
        for (var i = 0; i < twikoo_avatar.length; i++) {
            var asrc = twikoo_avatar.eq(i).attr('src');
            if (asrc.search('cn.gravatar.com') != -1) {
                twikoo_avatar.eq(i).attr('src', 'https://dustmm.github.io/media/images/comavatar.png');
            }
        }
    }

    function showWechat() {
        var wechat = 'Cx891358952';
        alert("åšä¸»å¾®ä¿¡å·ï¼š" + wechat);
        return false;
    }
</script>

<script>
    /**
     * https://github.com/tangkaichuan/gridea-search
     */
    // æ£€æŸ¥ç¼“å­˜æ˜¯å¦æœ€æ–°
    function checkCache() {
        var caches_postsnum = localStorage.getItem("postsnum");
        var pt = document.getElementById("side-posttitle").innerHTML;
        pt = pt.replace(/\s+/g, '').replace(/<script>.*?<\/script>/gi, "")
        var ptlen = pt.length;
        var ptlen_storage = localStorage.getItem("poststitlelen");
        if (caches_postsnum != postsnum || ptlen != ptlen_storage) {
            console.log("æ›´æ–°ç¼“å­˜");
            return false
        }
        return true;
    }

    (function () {
        var CACHES = checkCache()
        if (!CACHES) {
            var NOW = Date.now()
            var API_CONTENT = '../api-content/index.html' + '?_=' + NOW
            preload(API_CONTENT);
            getContents(show_getContentresult);
        }

        function show_getContentresult(data) {
            console.log("è·å–æˆåŠŸ");
            var postslen = data["posts"].length;
            localStorage.setItem('postsnum', postslen);
            var poststitlelen = 0;
            var pt = document.getElementById("side-posttitle").innerHTML;
            pt = pt.replace(/\s+/g, '').replace(/<script>.*?<\/script>/gi, "");
            localStorage.setItem('poststitlelen', pt.length);
        }



        // preload
        function preload(url) {
            var preloadLink = document.createElement('link')
            preloadLink.href = url
            preloadLink.rel = 'preload'
            preloadLink.as = 'fetch'
            preloadLink.crossOrigin = 'anonymous'
            document.head.appendChild(preloadLink)
        }

        // å¼‚æ­¥ GET è¯·æ±‚
        function get(obj) {
            var xhr = new XMLHttpRequest()
            xhr.open('get', obj.url, true)
            xhr.send(null)
            xhr.onreadystatechange = function () {
                // å¼‚æ­¥è¯·æ±‚ï¼šå“åº”çŠ¶æ€ä¸º4ï¼Œæ•°æ®åŠ è½½å®Œæ¯•
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        obj.success(xhr.responseText)
                    } else {
                        obj.error(xhr.status)
                    }
                }
            }
        }

        // è·å–åšå®¢å…¨æ–‡ api
        function getContents(callback) {
            if (CACHES) {
                callback(CACHES.contents)
            } else {
                get({
                    url: API_CONTENT,
                    success: function (data) {
                        callback(JSON.parse(data));
                        localStorage.setItem('ContentsCache', data);
                        getStorageContent();
                    }
                })
            }
        }
    })()
    //------------------------æ ¸å¿ƒåŠŸèƒ½--pjaxå…¨å±€æ¸²æŸ“ğŸ‘‡-------------------
    let talkinit = false;
    $(document).pjax('a[data-pjax]', '#main', {
        fragment: '#main',
        timeout: 8000
    }).on('pjax:complete', function () {
        //æ¸…ç©ºæœç´¢æ 
        if (searchChoice) {
            searchInit();
            searchInput.value = "";
        }
        var pl = window.location.pathname;
        //è¯´è¯´æ›´æ–°
        if (pl.search("talk") != -1 && !talkinit) {
            add();
            talkinit = true;
        } else if (pl.search("talk") != -1) {
            show();
        }
        if (pl.search("post") != -1) {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightBlock(block);
                hljs.lineNumbersBlock(block);
            });
            //æ–‡ç« çƒ­åº¦
            if(postnumChoice){
                getHotnum();
            }
            //æ–‡ç« ç´¢å¼•
            toginit();
            if (shareChoice)
                shareInit();
            if (donateChoice)
                donateInit();
            if ("valine" == "default"&&!commentsHide) {
                $("#comment").hide()
                commentsHide = true
            }
            lazyload();
            codeinit();
            if ("valine" == "twikoo") {
                //twikooå¤´åƒæ›´æ¢
                setTimeout(replaceAvatar, 3000);
                setTimeout(replaceAvatar, 8000); //éƒ¨åˆ†åšä¸»ç«™ç‚¹é€Ÿåº¦åŠ è½½è¿‡æ…¢ï¼Œå†æ·»åŠ ä¸€ä¸ªå»¶è¿Ÿ
            }
        }
        if (btstate == true)
            dropdown();
    }).on('pjax:start', function () {
        $(".pjaxloading").fadeIn(50);
    }).on('pjax:end', function () {
        $(".pjaxloading").fadeOut(50);
    });
    //------------------------æ ¸å¿ƒåŠŸèƒ½--pjaxå…¨å±€æ¸²æŸ“ğŸ‘†-------------------

    //-------------------------------------------------æœç´¢
    // è·å–æœç´¢æ¡†ã€æœç´¢æŒ‰é’®ã€æ¸…ç©ºæœç´¢ã€ç»“æœè¾“å‡ºå¯¹åº”çš„å…ƒç´ 
    if (searchChoice) {
        var searchInput = document.querySelector('.search-input');
        var searchResults = document.querySelector('.search-results');
    }
    // ç”³æ˜ä¿å­˜æ–‡ç« çš„æ ‡é¢˜ã€é“¾æ¥ã€å†…å®¹çš„æ•°ç»„å˜é‡
    var searchValue = '',
        arrItems = [],
        arrLinks = [],
        arrTitles = [],
        arrContents = [],
        arrResults = [],
        indexItem = [],
        itemLength = 0;
    var tmpDiv = document.createElement('div');
    tmpDiv.className = 'result-item';


    function getStorageContent() {
        var data = localStorage.getItem('ContentsCache');
        data = JSON.parse(data);
        posts = data["posts"];
        for (var i = 0; i < posts.length; i++) {
            arrLinks[i] = posts[i].link;
            arrTitles[i] = posts[i].title;
            arrContents[i] = posts[i].content;
            itemLength++;
        }
    }
    if (checkCache())
        getStorageContent();
    // è¾“å…¥æ¡†å†…å®¹å˜åŒ–åå°±å¼€å§‹åŒ¹é…ï¼Œå¯ä»¥ä¸ç”¨ç‚¹æŒ‰é’®
    // ç»æµ‹è¯•ï¼Œonkeydown, onchange ç­‰æ–¹æ³•æ•ˆæœä¸å¤ªç†æƒ³ï¼Œ
    // å­˜åœ¨è¾“å…¥å»¶è¿Ÿç­‰é—®é¢˜ï¼Œæœ€åå‘ç°è§¦å‘ input äº‹ä»¶æœ€ç†æƒ³ï¼Œ
    // å¹¶ä¸”å¯ä»¥å¤„ç†ä¸­æ–‡è¾“å…¥æ³•æ‹¼å†™çš„å˜åŒ–
    searchInput.oninput = function () {
        setTimeout(searchConfirm, 0);
    }
    searchInput.onfocus = function () {
        searchResults.style.display = 'block';
    }

    function searchConfirm() {
        if (searchInput.value == '') {
            searchResults.style.display = 'none';
        } else if (searchInput.value.search(/^\s+$/) >= 0) {
            // æ£€æµ‹è¾“å…¥å€¼å…¨æ˜¯ç©ºç™½çš„æƒ…å†µ
            searchInit();
            var itemDiv = tmpDiv.cloneNode(true);
            itemDiv.innerText = 'è¯·è¾“å…¥æœ‰æ•ˆå†…å®¹...';
            searchResults.appendChild(itemDiv);
        } else {
            // åˆæ³•è¾“å…¥å€¼çš„æƒ…å†µ
            searchInit();
            searchValue = searchInput.value;
            // åœ¨æ ‡é¢˜ã€å†…å®¹ä¸­æŸ¥æ‰¾
            searchMatching(arrTitles, arrContents, searchValue);
        }
    }

    // æ¯æ¬¡æœç´¢å®Œæˆåçš„åˆå§‹åŒ–
    function searchInit() {
        arrResults = [];
        indexItem = [];
        searchResults.innerHTML = '';
        searchResults.style.display = 'block';
    }

    function searchMatching(arr1, arr2, input) {
        // å¿½ç•¥è¾“å…¥å¤§å°å†™
        input = new RegExp(input, 'i');
        var step = 10;
        // åœ¨æ‰€æœ‰æ–‡ç« æ ‡é¢˜ã€å†…å®¹ä¸­åŒ¹é…æŸ¥è¯¢å€¼
        for (i = 0; i < itemLength; i++) {
            var indexContent = arr2[i].search(input);
            //æ ‡é¢˜åŒ¹é…
            if (arr1[i].search(input) != -1) {
                indexItem.push(i); // ä¿å­˜åŒ¹é…å€¼çš„ç´¢å¼•
                if (indexContent != -1) {
                    startindex = (indexContent - step) >= 0 ? (indexContent - step) : 0;
                    var searchcontent = arr2[i].slice(indexContent - step, indexContent + 5)
                    arrResults.push("....." + searchcontent + ".....");
                } else
                    arrResults.push("");
            }
            //å†…å®¹åŒ¹é…
            else if (indexContent != -1) {
                indexItem.push(i); // ä¿å­˜åŒ¹é…å€¼çš„ç´¢å¼•

                startindex = (indexContent - step) >= 0 ? (indexContent - step) : 0;
                var searchcontent = arr2[i].slice(indexContent - step, indexContent + 5)
                arrResults.push("....." + searchcontent + ".....");
            }
        }

        // è¾“å‡ºæ€»å…±åŒ¹é…åˆ°çš„æ•°ç›®
        var totalDiv = tmpDiv.cloneNode(true);
        totalDiv.innerHTML = '<b>æ€»åŒ¹é…ï¼š' + indexItem.length + ' é¡¹<hr></b>';
        searchResults.appendChild(totalDiv);

        // æœªåŒ¹é…åˆ°å†…å®¹çš„æƒ…å†µ
        if (indexItem.length == 0) {
            var itemDiv = tmpDiv.cloneNode(true);
            itemDiv.innerText = 'æœªåŒ¹é…åˆ°å†…å®¹...';
            searchResults.appendChild(itemDiv);
        }

        // å°†æ‰€æœ‰åŒ¹é…å†…å®¹è¿›è¡Œç»„åˆ
        for (i = 0; i < arrResults.length; i++) {
            var itemDiv = tmpDiv.cloneNode(true);
            itemDiv.innerHTML = '<a data-pjax class="searchresults" href="' + arrLinks[indexItem[i]] + '"><b>[' +
                arrTitles[indexItem[i]] +
                ']</b><p>' + arrResults[i] + '</p></a><hr />';
            searchResults.appendChild(itemDiv);
        }
    }
</script>



<!--------------------- èœå•æ å›¾æ ‡åŠ è½½åŠŸèƒ½ğŸ‘‡ ----------------------->
<script>
var menulist = $(".menuicon");
var menulength = menulist.length;
for (var i = 0; i < menulength; i++) {
    var altname = menulist.eq(i).attr("alt");
    var iconurl = icondict[altname];
    if (iconurl == undefined || iconurl == '')
        continue;
    if (iconurl == 'Home') {
        menulist.eq(i).attr("src", "https://dustmm.github.io/media/images/Home.png");
menulist.eq(i).show();
} else if (iconurl == 'Archive') {
menulist.eq(i).attr("src", "https://dustmm.github.io/media/images/Archive.png");
menulist.eq(i).show();
} else if (iconurl == 'Tag') {
menulist.eq(i).attr("src", "https://dustmm.github.io/media/images/Tag.png");
menulist.eq(i).show();
} else if (iconurl == 'About') {
menulist.eq(i).attr("src", "https://dustmm.github.io/media/images/About.png");
menulist.eq(i).show();
} else if (iconurl == 'Talk') {
menulist.eq(i).attr("src", "https://dustmm.github.io/media/images/Talk.png");
menulist.eq(i).show();
} else if (iconurl == 'Friends') {
menulist.eq(i).attr("src", "https://dustmm.github.io/media/images/Friends.png");
menulist.eq(i).show();
} else if (iconurl == 'Fly') {
menulist.eq(i).attr("src", "https://dustmm.github.io/media/images/wind.png");
menulist.eq(i).show();
} else {
menulist.eq(i).attr("src", iconurl);
menulist.eq(i).show();
}
}
</script>
<!--------------------- èœå•æ å›¾æ ‡åŠ è½½åŠŸèƒ½ğŸ‘† ----------------------->

<script>
    //--------------------bber-onetalkåŠ è½½ğŸ‘‡--------------------------------
    function bberonetalkLoad(){
        bberjsonurl = '';
        if ( $("#bber-talk").length > 0 ) {
        jsonUrl = bberjsonurl
        $.getJSON(jsonUrl+"?t="+Date.parse( new Date()),function(res){
        var bberHtml = ''
        $.each(res.data, function(i, item){
            d = new Date(item.date)
            date = d.getFullYear()+'/'+(d.getMonth()+1)+'/'+d.getDate() +' '+d.getHours()+':'+d.getMinutes()+':'+d.getSeconds()
            dataTime = '<span class="datatime">'+date+'</span>'
            bberHtml += '<li class="item item-'+(i+1)+'">'+dataTime+'ï¼š <a data-pjax href="https://dustmm.github.io/bber">'+item.content+'</a></li>'
        });
        $('#bber-talk').append('<span class="index-talk-icon"><svg viewBox="0 0 1024 1024" width="21" height="21"><path d="M184.32 891.667692c-12.603077 0-25.206154-2.363077-37.809231-7.876923-37.021538-14.966154-59.864615-49.624615-59.864615-89.009231v-275.692307c0-212.676923 173.292308-385.969231 385.969231-385.969231h78.76923c212.676923 0 385.969231 173.292308 385.969231 385.969231 0 169.353846-137.846154 307.2-307.2 307.2H289.083077l-37.021539 37.021538c-18.904615 18.116923-43.323077 28.356923-67.741538 28.356923zM472.615385 195.347692c-178.018462 0-322.953846 144.935385-322.953847 322.953846v275.692308c0 21.267692 15.753846 29.144615 20.48 31.507692 4.726154 2.363077 22.055385 7.876923 37.021539-7.08923l46.473846-46.473846c6.301538-6.301538 14.178462-9.452308 22.055385-9.452308h354.461538c134.695385 0 244.184615-109.489231 244.184616-244.184616 0-178.018462-144.935385-322.953846-322.953847-322.953846H472.615385z"></path><path d="M321.378462 512m-59.076924 0a59.076923 59.076923 0 1 0 118.153847 0 59.076923 59.076923 0 1 0-118.153847 0Z"></path><path d="M518.301538 512m-59.076923 0a59.076923 59.076923 0 1 0 118.153847 0 59.076923 59.076923 0 1 0-118.153847 0Z"></path><path d="M715.224615 512m-59.076923 0a59.076923 59.076923 0 1 0 118.153846 0 59.076923 59.076923 0 1 0-118.153846 0Z"></path></svg></span><ul class="talk-list">'+bberHtml+'</ul>')
        //Lately({ 'target': '#bber-talk .datatime' });
        });
        function Roll (){
        var list_li = $('.talk-list li'),cur_li = list_li.first(),last_li = list_li.last();
        last_li.after(cur_li);
        };
        setInterval(Roll,3000);
    }
    }
  //--------------------bber-onetalkåŠ è½½ğŸ‘†--------------------------------
</script>

<script>
    var ClicksideState = 1
    var cur_readingmode = false
    function readingmode(){
        if (!cur_readingmode){
            if(menupos == 'left'){
                if(ClicksideState==1)
                menu_openclose1()
            }
            $("#tab1").fadeOut(50)
            $("#bg").fadeOut(50)
            $(".navbar").fadeOut(50)
            $(".markdownIt-TOC li a").css("color","black")
            cur_readingmode = true
        }else{
            if(menupos == 'left'){
                if(ClicksideState==0)
                    menu_openclose1()
            }
            $("#tab1").fadeIn(50)
            $("#bg").fadeIn(50)
            $(".navbar").fadeIn(50)
            $(".markdownIt-TOC li a").css("color","antiquewhite")
            cur_readingmode = false  
        }
    }
</script>


<!----å¤œé—´æ¨¡å¼ğŸ‘‡-->
<script>
    var moonlightState = false
    function moonlight(){
        if(!moonlightState){
            $("#bg").fadeOut(200)
            $('body').css("background","rgba(0,0,0,0.8)")
            $(".markdownIt-TOC li a").css("color","white")
            $(".text p, .text ul").css("color","white")
            $("#articlecontent").css("color","white")
            $(".post-copyright").css("background","rgba(10,10,10,0.5)")
            $('blockquote').css("background","rgba(10,10,10,0.6)")
            $("#articlecontent").css("background","rgba(10,10,10,0.5)")
            moonlightState = true
            $(".moon").attr("src","https://dustmm.github.io/media/images/sun.png")
        }else{
            $("#bg").show()
            $(".markdownIt-TOC li a").css("color","antiquewhite")
            $(".text p, .text ul").css("color","rgba(0, 0, 0, 0.7)")
            $("#articlecontent").css("color","black")
            $(".post-copyright").css("background","#f9f9f9")
            $('blockquote').css("background","#eff8f0")
            $("#articlecontent").css("background","white")
            $(".moon").attr("src","https://dustmm.github.io/media/images/moon.png")
            $('body').css("background","white")
            moonlightState = false
        }
    }
</script>
<!----å¤œé—´æ¨¡å¼ğŸ‘†--></div>
            <!--------------- pcç«¯èœå•æ ğŸ‘† ---------------->

            <!-- ----------------å·¦ä¾§èœå•æ html ğŸ‘‡-------------------------------------->
            
            <div>
                <div id="tab1" class="tab">
                    <div class="bars">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <div class="close"></div>
                </div>
                <div class="col-md-1 col-lg-3"></div>
                <!-- mainæ ‡ç­¾ï¼Œpjaxæ¸²æŸ“æ—¶åŠ è½½ä»¥ä¸‹å†…å®¹ğŸ‘‡ -->
                <div id="main" class="col-xs-12 col-sm-12 col-md-12 col-lg-7" style="padding:0;">
                    <div class="readingmode" onclick="readingmode()">é˜…</div>
                    <link rel="stylesheet" href="https://dustmm.github.io/media/css/font-awesome.css">

<body>
    <div class="allcontent" id="postdetail">
        <div class="postshow postpadding" style="padding-bottom: 0;">
            
            <div class="postdetailimg">
                
                <img src="/media/images/custom-postdefaultimage.png" class="postimage">
                
            </div>
            <div class="postinfo-detail">
                <div class="postdate"><i class="fa fa-calendar"></i>2024-07-31</div>
            <div class="poststatus postdate"><i class="fa fa-clock-o"></i> 10 min read</div>
            <div class="posttag">
                
                <a data-pjax href="https://dustmm.github.io/tag/openwrt/" class="postlink">
                    <i class="fa fa-tag"></i> openwrt
                </a>
                
            </div>
        </div>
        
        <div id="articlecontent">
            <div id="texttitle" style="text-align: center">
                <h2 id="ptitle">OpenWrt ç¼–è¯‘å›ºä»¶</h2>
                <!-- id å°†ä½œä¸ºæŸ¥è¯¢æ¡ä»¶ -->
                <div id="pl" style="display:none">https://dustmm.github.io/post/openwrt/</div>
                <div id="rootaddr" style="display:none">https://dustmm.github.io</div>
                
            </div>
            <div class="text ">
                <p>ğŸ‘ æ¬¢è¿ä½¿ç”¨<strong>OpenWrt</strong>ï¼Œ<a href="https://openwrt.org/">OpenWrt</a> æ˜¯ä¸€ä¸ªé«˜åº¦å¯å®šåˆ¶åŒ–çš„å¼€æºé¡¹ç›®ï¼Œå®ƒä¸ºåµŒå…¥å¼è®¾å¤‡æä¾›äº†ä¸€å¥—å¼ºå¤§çš„æ“ä½œç³»ç»Ÿã€‚æœ¬æ•™ç¨‹å°†æŒ‡å¯¼ä½ å¦‚ä½•åœ¨è‡ªå·±çš„ç³»ç»Ÿä¸Šç¼–è¯‘ OpenWrtï¼Œè®©ä½ èƒ½å¤Ÿä¸ºä½ çš„è·¯ç”±å™¨æˆ–å…¶ä»–åµŒå…¥å¼è®¾å¤‡åˆ›å»ºä¸€ä¸ªå®šåˆ¶çš„å›ºä»¶ï¼</p>
<h2 id="å‰æœŸå‡†å¤‡å·¥ä½œ">ğŸ‘‡ å‰æœŸå‡†å¤‡å·¥ä½œ</h2>
<p>åœ¨å¼€å§‹ç¼–è¯‘ OpenWrt ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„ç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</p>
<ul>
<li>æ“ä½œç³»ç»Ÿï¼šLinuxã€BSD æˆ– macOSï¼ˆWindows ç”¨æˆ·å¯ä»¥é€šè¿‡ WSL2 ä½¿ç”¨ Linux ç¯å¢ƒï¼‰</li>
<li>å¤„ç†å™¨ï¼šè‡³å°‘ 2 GHz åŒæ ¸å¤„ç†å™¨ã€‚</li>
<li>å†…å­˜ï¼šè‡³å°‘ 4 GB RAM</li>
<li>ç¡¬ç›˜ç©ºé—´ï¼šè‡³å°‘ 10 GB å¯ç”¨ç©ºé—´ã€‚</li>
<li>ä¾èµ–è½¯ä»¶ï¼š<code>git</code>, <code>gcc</code>, <code>binutils</code>, <code>bzip2</code>, <code>flex</code>, <code>python</code>, <code>perl</code>, <code>make</code>, <code>findutils</code>, <code>grep</code>, <code>sed</code>, <code>awk</code>, <code>diff</code>, <code>patch</code>ç­‰ã€‚</li>
</ul>
<p>å¯¹äº Ubuntu/Debian ç³»ç»Ÿï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰€éœ€çš„ä¾èµ–ã€‚å¯¹äºå…¶ä»–ç³»ç»Ÿï¼Œè¯·æ ¹æ®ä½ çš„å‘è¡Œç‰ˆå®‰è£…ç›¸åº”çš„è½¯ä»¶åŒ…ã€‚</p>
<pre><code class="language-bash">sudo apt update -y
sudo apt full-upgrade -y
sudo apt install -y ack antlr3 asciidoc autoconf automake autopoint binutils bison build-essential \
bzip2 ccache cmake cpio curl device-tree-compiler fastjar flex gawk gettext gcc-multilib g++-multilib \
git gperf haveged help2man intltool libc6-dev-i386 libelf-dev libfuse-dev libglib2.0-dev libgmp3-dev \
libltdl-dev libmpc-dev libmpfr-dev libncurses5-dev libncursesw5-dev libpython3-dev libreadline-dev \
libssl-dev libtool lrzsz mkisofs msmtp ninja-build p7zip p7zip-full patch pkgconf python2.7 python3 \
python3-pyelftools python3-setuptools qemu-utils rsync scons squashfs-tools subversion swig texinfo \
uglifyjs upx-ucl unzip vim wget xmlto xxd zlib1g-dev
</code></pre>
<p><strong>æ³¨æ„åƒä¸‡ä¸è¦ä½¿ç”¨ root ç”¨æˆ·è¿›è¡Œç¼–è¯‘æ“ä½œã€‚</strong></p>
<h2 id="ä¸‹è½½ä»“åº“æºç ">ğŸ‘‡ ä¸‹è½½ä»“åº“æºç </h2>
<ul>
<li>ç”±äºæˆ‘ä½¿ç”¨å¹¶éå®˜æ–¹ OpenWrtï¼Œæœ¬æ–‡ä¸å¯¹ä¸‹è½½æºç è¿›è¡Œè¿‡å¤šæè¿°ï¼Œæ­¤éƒ¨åˆ†å†…å®¹ä»…ä¾›å‚è€ƒã€‚</li>
</ul>
<pre><code class="language-bash">git clone https://github.com/coolsnowwolf/lede
cd lede
./scripts/feeds update -a
./scripts/feeds install -a
make menuconfig
</code></pre>
<h2 id="è‡ªå®šä¹‰åº”ç”¨">ğŸ‘‡ è‡ªå®šä¹‰åº”ç”¨</h2>
<ul>
<li>åˆ†äº«ä¸€äº›ä¸ªäººæ·»åŠ çš„å¸¸ç”¨åº”ç”¨ã€‚å¦‚ diffã€i2c-toolsã€pciutilsã€usbutilsã€libstdcppã€janssonï¼ˆç‰ˆæœ¬éœ€è¦ 2.13.1)ã€libaioã€libeventã€mountã€wgetã€fioã€lsblkã€lscpuã€auto-factoryã€lsscsiã€tasksetã€ntpdateã€æ— çº¿ç”¨ hostapd-utilsã€wireless-toolsã€wpa-supplicant ç­‰ã€‚</li>
</ul>
<pre><code class="language-bash">#make menuconfig
wget
i2c-tools
#make kernel_menuconfig
CONFIG_XSPEED_CONFIG_LOCK        # ç¡¬ä»¶é”eeprom/spié©±åŠ¨
GPIO_SYSFS                                         # gpioé©±åŠ¨
LEDS_BRIGHTNESS_HW_CHANGED   # LEDé©±åŠ¨
LEDS_TRIGGER_DEFAULT_ON             # LEDé©±åŠ¨å®šæ—¶å™¨è§¦å‘æ”¯æŒ
USB_SERIAL_OPTION                          # USBä¸²å£é©±åŠ¨
RTC_DRV_PCF8563                              # RTCé©±åŠ¨
WATCHDOG                                         # çœ‹é—¨ç‹—
CONFIG_USB_NET_CDCETHER           # USBç½‘å¡é©±åŠ¨
</code></pre>
<ul>
<li>ä»‹ç»ä¸€äº›å¸‚é¢ä¸Šæ¯”è¾ƒå¸¸è§ä½¿ç”¨çš„æ’ä»¶ï¼ŒæŒ‰éœ€è‡ªè¡Œæ·»åŠ ã€‚</li>
</ul>
<pre><code class="language-bash">luci-app-firewall                             # é˜²ç«å¢™å’Œç«¯å£è½¬å‘,å¿…å¤‡
luci-app-adbyby-plus                    # å¹¿å‘Šå±è”½å¤§å¸ˆ Plus+
luci-app-sfe                                    # Turbo ACC ç½‘ç»œåŠ é€Ÿ(å¼€å¯ Fast Path è½¬å‘åŠ é€Ÿ)
luci-app-unblockNeteaseMusic    # è§£é”ç½‘æ˜“äº‘
luci-app-wol                                   # ç½‘ç»œå”¤é†’
luci-app-accesscontrol                  # ä¸Šç½‘æ—¶é—´æ§åˆ¶
luci-app-arpbind                            # IP/MAC ç»‘å®š
luci-app-autoreboot                      # è®¡åˆ’é‡å¯
luci-app-ddns                                 # åŠ¨æ€åŸŸåè§£æ
luci-app-filetransfer                       # ä¸Šä¼  ipk æ–‡ä»¶åŠŸèƒ½
luci-app-frpc                                   # å†…ç½‘ç©¿é€ Frp
luci-app-ipsec-vpnd                       # IPSec æœåŠ¡ç«¯
luci-app-nlbwmon                          # ç½‘ç»œå¸¦å®½ç›‘è§†å™¨
luci-app-ramfree                            # é‡Šæ”¾å†…å­˜
luci-app-rclone                               # rclone
luci-app-samba                              # ç½‘ç»œå…±äº«ï¼ˆsambaï¼‰
luci-app-upnp                                # é€šç”¨å³æ’å³ç”¨ UPnP(ç«¯å£è‡ªåŠ¨è½¬å‘)
luci-app-vlmcsd                             # KMS æœåŠ¡å™¨ï¼ˆWIN æ¿€æ´»å·¥å…·ï¼‰
luci-app-vsftpd                              # FTP æœåŠ¡å™¨
luci-app-webadmin                       # Web ç®¡ç†é¡µé¢è®¾ç½®
luci-app-xlnetacc                           # è¿…é›·ä¸‹è½½
luci-app-zerotier                            # è™šæ‹Ÿå±€åŸŸç½‘
luci-app-aria2                                # Aria2 ä¸‹è½½
luci-app-hd-idle                            # ç¡¬ç›˜ä¼‘çœ 
luci-app-mwan3                            # MWAN è´Ÿè½½å‡è¡¡
luci-app-openvpn                         # OpenVPN å®¢æˆ·ç«¯
luci-app-openvpn-server              # OpenVPN æœåŠ¡ç«¯
luci-app-pptp-server                    # PPTP æœåŠ¡ç«¯
luci-app-sqm                                 # æµé‡æ™ºèƒ½é˜Ÿåˆ—ç®¡ç†(QOS)
luci-app-transmission                   # BT ä¸‹è½½
luci-app-usb-printer                     # USB æ‰“å°æœåŠ¡å™¨
luci-app-wireguard                       # VPN æœåŠ¡å™¨ WireGuard çŠ¶æ€
luci-app-wrtbwmon                      # å®æ—¶æµé‡ç›‘æµ‹
</code></pre>
<h2 id="è®¾å¤‡æ ‘éƒ¨åˆ†">ğŸ‘‡ è®¾å¤‡æ ‘éƒ¨åˆ†</h2>
<ul>
<li>ç³»ç»Ÿå¯åŠ¨éœ€è¦å†…æ ¸é•œåƒå’Œè®¾å¤‡æ ‘æ–‡ä»¶ï¼Œå³ dtb æ–‡ä»¶ã€‚è®¾å¤‡æ ‘æ–‡ä»¶åœ¨å†…æ ¸ä¸­çš„ arch/arm64/boot/dts/ å¯¹åº”å¹³å°è·¯å¾„ä¸‹ã€‚å®¢æˆ·å¯ä»¥é€šè¿‡ dts æ–‡ä»¶ï¼Œä¿®æ”¹ sysfs-led çš„æ§åˆ¶ï¼Œgpio-keys æ§åˆ¶ï¼Œä»¥å¤ªç½‘å’Œäº¤æ¢èŠ¯ç‰‡ DSA ç­‰é…ç½®ã€‚</li>
</ul>
<pre><code class="language-bash">arch/arm64/boot/dts/marvell/armada-3720-nmxx.dts                                    # Armadaå¹³å°
arch/arm64/boot/dts/rockchip/rk3566-xspeed-ra01-v010-linux_cfg1.dts     # RKå¹³å°
</code></pre>
<ul>
<li>è®¾å¤‡æ ‘å…³äºç¯çš„é…ç½®ã€‚</li>
</ul>
<pre><code class="language-bash">gpio-leds {
	compatible = &quot;gpio-leds&quot;;
	led-1 {
    		label = &quot;DB1&quot;;
			linux,default-trigger = &quot;timer&quot;;
			gpios = &lt;&amp;gpio1 RK_PA6 GPIO_ACTIVE_LOW&gt;;
			default-state = &quot;on&quot;;
		};
};
</code></pre>
<h2 id="å›ºä»¶å®šåˆ¶åŒ–éƒ¨åˆ†">ğŸ‘‡ å›ºä»¶å®šåˆ¶åŒ–éƒ¨åˆ†</h2>
<ul>
<li>ä¿®æ”¹ boot æ–‡ä»¶ï¼Œä½¿å…¶å¼€æœºè¿è¡Œè‡ªå®šä¹‰è„šæœ¬ã€‚</li>
</ul>
<pre><code class="language-bash">vi package/base-files/files/etc/init.d/boot
######æ–‡ä»¶ä¿®æ”¹å†…å®¹å¦‚ä¸‹######
#!/bin/sh /etc/rc.common
# Copyright (C) 2006-2011 OpenWrt.org

START=10
STOP=98

uci_apply_defaults() {
        . /lib/functions/system.sh

        cd /etc/uci-defaults || return 0
        files=&quot;$(ls)&quot;
        [ -z &quot;$files&quot; ] &amp;&amp; return 0
        mkdir -p /tmp/.uci
        for file in $files; do
                ( . &quot;./$(basename $file)&quot; ) &amp;&amp; rm -f &quot;$file&quot;
        done
        uci commit
}

update_ate_files() {
        blkdev=$(cat /proc/cmdline |awk -F 'rootdev=' '{print$2}'|awk '{print $1}')
        if [ &quot;${blkdev}&quot; = &quot;&quot; ]
        then
                blkdev=&quot;/dev/sda1&quot;
                echo &quot;rootdev is null,set it is ${blkdev} !&quot;
        else
                echo &quot;The rootdev is ${blkdev} !&quot;
        fi

        if [ -b &quot;$blkdev&quot; ];then
                mount &quot;$blkdev&quot; /mnt
                /mnt/ate/ateinit.sh
                umount /mnt
        fi
}

boot() {
        [ -f /proc/mounts ] || /sbin/mount_root
        [ -f /proc/jffs2_bbc ] &amp;&amp; echo &quot;S&quot; &gt; /proc/jffs2_bbc
        [ -f /proc/net/vlan/config ] &amp;&amp; vconfig set_name_type DEV_PLUS_VID_NO_PAD

        mkdir -p /var/run
        mkdir -p /var/log
        mkdir -p /var/lock
        mkdir -p /var/state
        mkdir -p /var/tmp
        mkdir -p /tmp/.uci
        chmod 0700 /tmp/.uci
        touch /var/log/wtmp
        touch /var/log/lastlog
        touch /tmp/resolv.conf.auto
        ln -sf /tmp/resolv.conf.auto /tmp/resolv.conf
        grep -q debugfs /proc/filesystems &amp;&amp; /bin/mount -o noatime -t debugfs debugfs /sys/kernel/debug
        [ &quot;$FAILSAFE&quot; = &quot;true&quot; ] &amp;&amp; touch /tmp/.failsafe

        #update auto factory test files
        update_ate_files

        /sbin/kmodloader

        [ ! -f /etc/config/wireless ] &amp;&amp; {
                # compat for brcm47xx and mvebu
                sleep 1
        }

        /bin/config_generate
        uci_apply_defaults

        # temporary hack until configd exists
        /sbin/reload_config
}
######æ–‡ä»¶ä¿®æ”¹å†…å®¹ç»“æŸ######
</code></pre>
<ul>
<li>ä¿®æ”¹ login.sh ä½¿å…¶ä¸²å£ç™»å½•éœ€è¦å¯†ç ã€‚</li>
</ul>
<pre><code class="language-bash">vi package/base-files/files/usr/libexec/login.sh
######æ–‡ä»¶ä¿®æ”¹å†…å®¹å¦‚ä¸‹######
#!/bin/sh

[ &quot;$(uci -q get system.@system[0].ttylogin)&quot; == 1 ] || exec /bin/login

exec /bin/login
######æ–‡ä»¶ä¿®æ”¹å†…å®¹ç»“æŸ######
</code></pre>
<ul>
<li>ä¿®æ”¹ shadow æ–‡ä»¶ï¼Œå®ç° root ç”¨æˆ·æ‹¥æœ‰å¯†ç å¯†ç ã€‚</li>
</ul>
<pre><code class="language-bash">vi package/base-files/files/etc/shadow
######æ–‡ä»¶ä¿®æ”¹å†…å®¹å¦‚ä¸‹######
root:$1$7aqew7Sj$fsoq.EmzVZK8r7oLAJQrc0:18738:0:99999:7:::
daemon:*:0:0:99999:7:::
ftp:*:0:0:99999:7:::
network:*:0:0:99999:7:::
nobody:*:0:0:99999:7:::
######æ–‡ä»¶ä¿®æ”¹å†…å®¹ç»“æŸ######
</code></pre>
<ul>
<li>è®¾ç½®é»˜è®¤çš„ network é…ç½®ã€‚</li>
</ul>
<pre><code class="language-bash">vi package/base-files/files/etc/config/network
######æ–‡ä»¶ä¿®æ”¹å†…å®¹å¦‚ä¸‹######
config interface 'loopback'
        option ifname 'lo'
        option proto 'static'
        option ipaddr '127.0.0.1'
        option netmask '255.0.0.0'

config globals 'globals'
        option ula_prefix 'fd28:36e7:8f84::/48'

config interface 'wan'
        option ifname 'MGMT'
        option proto 'dhcp'

config interface 'lte'
        option ifname 'usb0'
        option metric '2'
        option proto 'dhcp'
        option disabled '1'

config interface 'wwan'
        option metric '2'
        option proto 'dhcp'

config interface 'ppp'
        option proto '3g'
        option device '/dev/ttyUSB0'
        option service 'umts'
        option pppname 'ppp'
        option metric '2'
        option disabled '1'
######æ–‡ä»¶ä¿®æ”¹å†…å®¹ç»“æŸ######
</code></pre>
<ul>
<li>è®¾å¤‡ hostname çš„ä¿®æ”¹æ“ä½œï¼Œå°† OpenWrt æ›¿æ¢ä¸ºæˆä½ éœ€è¦çš„åç§°ã€‚æˆ–è€…ç›´æ¥ä¿®æ”¹è®¾å¤‡çš„ /etc/config/system æ–‡ä»¶ã€‚</li>
</ul>
<pre><code class="language-bash">vi package/base-files/files/bin/config_generate
######æ–‡ä»¶ä¿®æ”¹å†…å®¹å¦‚ä¸‹######
                delete system.@system[0]
                add system system
                set system.@system[-1].hostname='OpenWrt'
                set system.@system[-1].timezone='UTC'
                set system.@system[-1].ttylogin='0'
                set system.@system[-1].log_size='64'
                set system.@system[-1].urandom_seed='0'
######æ–‡ä»¶ä¿®æ”¹å†…å®¹ç»“æŸ######
</code></pre>
<ul>
<li>ä¿®æ”¹è®¾å¤‡é»˜è®¤çš„ ssid åå­—ã€‚</li>
</ul>
<pre><code class="language-bash">vi package/kernel/mac80211/files/lib/wifi/mac80211.sh
######æ–‡ä»¶ä¿®æ”¹å†…å®¹å¦‚ä¸‹######
set wireless.default_${name}.ssid=OpenWrt		 	# wifiåç§°
set wireless.default_${name}.encryption=psk2		# wifiåŠ å¯†æ–¹å¼ï¼Œæ²¡æœ‰æ˜¯none
set wireless.default_radio${devidx}.key=12345678	# wifiå¯†ç 
######æ–‡ä»¶ä¿®æ”¹å†…å®¹ç»“æŸ######
</code></pre>
<ul>
<li>è®¾å¤‡ç»ˆç«¯çš„ banner ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ figlet å·¥å…·ç”Ÿæˆç©ºå¿ƒå­—ã€‚</li>
</ul>
<pre><code class="language-bash">figlet -f big HuangYanJie
vi package/base-files/files/etc/banner
######æ–‡ä»¶ä¿®æ”¹å†…å®¹å¦‚ä¸‹######
 _    _                      __     __              _ _
| |  | |                     \ \   / /             | (_)
| |__| |_   _  __ _ _ __   __ \ \_/ /_ _ _ __      | |_  ___
|  __  | | | |/ _` | '_ \ / _` \   / _` | '_ \ _   | | |/ _ \
| |  | | |_| | (_| | | | | (_| || | (_| | | | | |__| | |  __/
|_|  |_|\__,_|\__,_|_| |_|\__, ||_|\__,_|_| |_|\____/|_|\___|
                           __/ |
                          |___/
######æ–‡ä»¶ä¿®æ”¹å†…å®¹ç»“æŸ######
</code></pre>
<ul>
<li>ä¿®æ”¹é»˜è®¤ IPï¼Œé»˜è®¤ ip æ˜¯ 192.168.1.1ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®¾ç½®æˆæˆ‘ä»¬ç‰¹æ®Šéœ€è¦çš„ IP</li>
</ul>
<pre><code class="language-bash">vi package/base-files/files/bin/config_generate
######æ–‡ä»¶ä¿®æ”¹å†…å®¹å¦‚ä¸‹######
static)
        local ipad
        case &quot;$1&quot; in
                lan) ipad=${ipaddr:-&quot;192.168.1.1&quot;} ;;
                *) ipad=${ipaddr:-&quot;192.168.$((addr_offset++)).1&quot;} ;;
        esac
######æ–‡ä»¶ä¿®æ”¹å†…å®¹ç»“æŸ######
</code></pre>
<ul>
<li>å…³äºå¢åŠ luciçš„æ“ä½œå¯ä»¥å‚è€ƒ<a href="https://mp.weixin.qq.com/s/p8ov1ZipJaEDkQVcCDxrVQ">é“¾æ¥</a>ã€‚</li>
</ul>
<h2 id="thank-you-for-browsingenjoy~">ğŸ˜˜ Thank you for browsingï¼ŒEnjoy~</h2>

            </div>
            <hr style="width: 80%;">
            
            <div class="postfooter">
                <ul class="post-copyright">
                    <li><strong>æ–‡ç« ä½œè€…ï¼š</strong>Dustin</li>
            <li><strong>åŸæ–‡é“¾æ¥ï¼š</strong>https://dustmm.github.io/post/openwrt/</li>
            <li><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨<i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA
                è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li>
            </ul>
        </div>
        
            <div class="shareContainer">
                <div class="share" style="height:30px;">
                    <a class="qq" href=""><i><img class="shareicon"
                                src="https://dustmm.github.io/media/images/qqs.png" alt=""></i></a>
                    <a class="wechat" href=""><i><img class="shareicon"
                                src="https://dustmm.github.io/media/images/wechats.png" alt=""></i></a>
                    <a class="weibo" href=""><i><img class="shareicon"
                                src="https://dustmm.github.io/media/images/weibos.png" alt=""></i></a>
                    <a class="qzone" href=""><i><img class="shareicon"
                                src="https://dustmm.github.io/media/images/qzones.png" alt=""></i></a>
                    <a class="douban" href=""><i><img class="shareicon"
                                src="https://dustmm.github.io/media/images/doubans.png" alt=""></i></a>
                    <a class="facebook" href=""><i><img class="shareicon"
                                src="https://dustmm.github.io/media/images/facebooks.png" alt=""></i></a>
                    <a class="twitter" href=""><i><img class="shareicon"
                                src="https://dustmm.github.io/media/images/twitter.png" alt=""></i></a>
                </div>
            </div>
            
        <div id="otherpost">
            
            <a  data-pjax class="prev-post-pc" href="https://dustmm.github.io/post/hardware/"  style="color: black;">
                <div id="ppcontainer">
                    
                    
                    <img src="/media/images/custom-postdefaultimage.png" style="width: 100%;" class="opimg">
                    
                    
                    <h4 class="optitle">è®¾å¤‡ç¡¬ä»¶åŠŸèƒ½æµ‹è¯•</h4>
                </div>
            </a>
            <div class="prev-post">
                ä¸Šä¸€ç¯‡ <a  data-pjax href="https://dustmm.github.io/post/hardware/">è®¾å¤‡ç¡¬ä»¶åŠŸèƒ½æµ‹è¯•</a>
            </div>
            
            
            <a data-pjax class="next-post-pc" href="https://dustmm.github.io/post/linux/"  style="color: black;">
                <div id="npcontainer">
                    
                    
                    <img src="/media/images/custom-postdefaultimage.png" style="width: 100%;" class="opimg">
                    
                    
                    <h4 class="optitle">Linux ä¸ªäººå¸¸ç”¨å‘½ä»¤</h4>
                </div>
            </a>
            <div class="next-post">
                ä¸‹ä¸€ç¯‡ <a  data-pjax href="https://dustmm.github.io/post/linux/">Linux ä¸ªäººå¸¸ç”¨å‘½ä»¤</a>
            </div>
            
        </div>
    </div>
    </div>
    </div>
    <!-- å¼¹çª— -->
    <div id="myModal" class="modal">
        <img class="modal-content" id="img01">
    </div>
</body>
<script>
    //æ–‡ç« é˜…è¯»çƒ­åº¦
    var pl = $("#pl").html();
    var rootaddr = $("#rootaddr").html();
    pl = pl.replace(rootaddr, "");
    $("#hotnum").attr('id', pl);
</script>
                    <div class="toc-container">
                        <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">ğŸ‘‡ å‰æœŸå‡†å¤‡å·¥ä½œ</a></li>
<li><a href="#%E4%B8%8B%E8%BD%BD%E4%BB%93%E5%BA%93%E6%BA%90%E7%A0%81">ğŸ‘‡ ä¸‹è½½ä»“åº“æºç </a></li>
<li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BA%94%E7%94%A8">ğŸ‘‡ è‡ªå®šä¹‰åº”ç”¨</a></li>
<li><a href="#%E8%AE%BE%E5%A4%87%E6%A0%91%E9%83%A8%E5%88%86">ğŸ‘‡ è®¾å¤‡æ ‘éƒ¨åˆ†</a></li>
<li><a href="#%E5%9B%BA%E4%BB%B6%E5%AE%9A%E5%88%B6%E5%8C%96%E9%83%A8%E5%88%86">ğŸ‘‡ å›ºä»¶å®šåˆ¶åŒ–éƒ¨åˆ†</a></li>
<li><a href="#thank-you-for-browsingenjoy~">ğŸ˜˜ Thank you for browsingï¼ŒEnjoy~</a></li>
</ul>
</li>
</ul>

                    </div>
                    <div class="tog">
                        <div class="toggleContainer">
                            <div class="toggle">
                                <i class="fas fa-angle-double-up"></i>
                            </div>
                        </div>
                    </div>
                    <!---------------------------- è¯„è®ºç³»ç»ŸğŸ‘‡ ------------------------->
                    <div id="comment" class="comment">
                        <div class="commentcontainer">
                            
                                
                                    
        <div id="vcomments">
        </div>
        <script>
            var valine = new Valine();
            var curpath = window.location.pathname;
            if (curpath[curpath.length - 1] != '/')
                curpath += '/'
            valine.init({
                el: '#vcomments',
                appId: 'QIlPSegCzqpkt5B6x6Fzo7WC-gzGzoHsz',
                appKey: 'wwnXAj99w3DjX2WTbfdEITgX',
                avatar: 'retro',
                pageSize: 10,
                placeholder: 'æ—¢ç„¶æ¥äº†ï¼Œä½•ä¸ç•…æ‰€æ¬²è¨€å‘¢ï¼Ÿ',
                recordIP: true,
                path: curpath //[é‡ç‚¹] è®°å¾—æ·»åŠ pathè·¯å¾„
            });
        </script>
        <script type="text/javascript">
            var jrsc = 'æ—¢ç„¶æ¥äº†ï¼Œä½•ä¸ç•…æ‰€æ¬²è¨€å‘¢ï¼Ÿ';
            jinrishici.load(function (result) {
                // è‡ªå·±çš„å¤„ç†é€»è¾‘
                jrsc = result.data.content + "\nã€Œ" + result.data.origin.title + "ã€" + result.data.origin
                    .dynasty + " Â· " + result.data.origin.author;
            });
        </script>


                                    <div class="clear"></div>
                                
                            
                        </div>
                    </div>
                    <!---------------------------- è¯„è®ºç³»ç»ŸğŸ‘† ------------------------->
                </div>
                <!-- mainæ ‡ç­¾ï¼Œpjaxæ¸²æŸ“æ—¶åŠ è½½ä»¥ä¸Šå†…å®¹ğŸ‘† -->
                <div class="col-md-1 col-lg-2"></div>
                <div id="bg">
                </div>
            </div>
            <!-- ----------------å·¦ä¾§èœå•æ html ğŸ‘†-------------------------------------->
            
        </div>
        <!-- aplayeræ’­æ”¾å™¨åŠ è½½ğŸ‘‡ -->
            
            <head>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"> -->
    <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
</head>

<body>
    <div class="miniMode">
        <meting-js id="myaplayer" server="netease" type="playlist" fixed="true" order="default" muted="muted">
        </meting-js>
    </div>
</body>


<script src="https://fastly.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
<script>
    function aplayerInit() {
        var aplayerid = "5020886601";
        var aplayerserver = "netease";
        var aplayerorder = "random";
        var aplayerautoplay = "true";
        var aplayer = $("#myaplayer");
        aplayer.attr("server", aplayerserver);
        aplayer.attr("id", aplayerid);
        aplayer.attr("order", aplayerorder);
        if (aplayerautoplay == "true")
            aplayer.attr("autoplay", "true");
    }
    aplayerInit();
</script>

<script type="text/javascript" src="https://dustmm.github.io/media/js/Aplayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://fastly.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

<script>
    function aplayerbtnInit() {
        var player = document.querySelectorAll('meting-js')[0].aplayer;
        if(player==undefined)return false;
        player.lrc.hide();
        var mbabtn = $("#mbaplayer");
        if (player.paused == false) {
            mbabtn.removeClass("fa-play-circle-o");
            mbabtn.addClass("fa-pause-circle");
        } else {
            mbabtn.addClass("fa-play-circle-o");
            mbabtn.removeClass("fa-pause-circle");
        }
    }

    function aplayerPlay() {
        var player = document.querySelectorAll('meting-js')[0].aplayer;
        var mbabtn = $("#mbaplayer");
        if (player.paused == true) {
            player.play();
            mbabtn.removeClass("fa-play-circle-o");
            mbabtn.addClass("fa-pause-circle");
        } else {
            player.pause();
            mbabtn.addClass("fa-play-circle-o");
            mbabtn.removeClass("fa-pause-circle");
        }
    }
</script>
            
        <!-- aplayeræ’­æ”¾å™¨åŠ è½½ğŸ‘† -->
    </div>
    <!-- èƒŒæ™¯å›¾åŠ è½½æ–¹å¼ğŸ‘‡ -->
    <div id="bgchoice" style="display: none">default
                </div>
                
                <div id="bgurl" style="display:none">/media/images/custom-bgimage.png</div>
                
    <!-- èƒŒæ™¯å›¾åŠ è½½æ–¹å¼ğŸ‘† -->
</body>

<script>
    //åˆå§‹åŒ–
    //æ›´æ¢twikooå¤´åƒ
    setTimeout(replaceAvatar,1000);
    setTimeout(replaceAvatar,2000);
    setTimeout(replaceAvatar,8000);
    // --------ä¸ºæ¯å¼ å›¾ç‰‡æ·»åŠ æ‡’åŠ è½½ï¼ˆlazyloadï¼‰æ ‡ç­¾-->æ‡’åŠ è½½åŠŸèƒ½ ğŸ‘‡------------
    lazyload();
    //ä¸ºæ–‡ç« å†…æ‰€æœ‰ä»£ç å—æ·»åŠ ä»£ç å¤åˆ¶åŠŸèƒ½ ğŸ‘‡
    codeinit();
    // ------ä»£ç é«˜äº®æ˜¾ç¤ºåŠŸèƒ½-------------
    hljs.initHighlightingOnLoad();
    if (shareChoice)
        shareInit();
    if (donateChoice)
        donateInit();
</script>

<!------------------ åŠ è½½live2dæ¨¡å‹åŠŸèƒ½ï¼ˆçœ‹æ¿å¨˜ï¼‰ğŸ‘‡ ---------------->

<script type="text/javascript">
    var message_Path = '/live2d/'
    var home_Path = document.getElementById("domainname").innerHTML + "/"; //æ­¤å¤„ä¿®æ”¹ä¸ºä½ çš„åŸŸåï¼Œå¿…é¡»å¸¦æ–œæ 
</script>
<script type="text/javascript" src="https://dustmm.github.io/media/js/live2d.js"></script>
<script type="text/javascript" src="https://dustmm.github.io/media/live2d/js/message.js"></script>
<script type="text/javascript">
    loadlive2d("live2d", "https://dustmm.github.io/media/live2d/assets/tororo.model.json");
</script>

<!------------------ åŠ è½½live2dæ¨¡å‹åŠŸèƒ½ï¼ˆçœ‹æ¿å¨˜ï¼‰ğŸ‘† ---------------->


<!----------------------- è¿”å›é¡¶éƒ¨æŒ‰é’®åŠŸèƒ½ğŸ‘‡ --------------------->
<script>
    $(function () {
        $('.toggleContainer').click(function () {
            $('html,body').animate({
                scrollTop: '0px'
            }, 800);
        });
        $(window).scroll(function () {
            var st = $(window).scrollTop();
            if (st > 30) {
                $(".toggleContainer").fadeIn(400);
            } else {
                $(".toggleContainer").fadeOut(100);
            }
        });
    });
</script>
<!----------------------- è¿”å›é¡¶éƒ¨æŒ‰é’®åŠŸèƒ½ğŸ‘† --------------------->


<!------------ åŠ è½½å…¨å±€èƒŒæ™¯å›¾åŠŸèƒ½ğŸ‘‡ï¼ˆå¼€å§‹æ—¶æ²¡æœ‰å†™å¥½ï¼Œè¿™åŠŸèƒ½æœ‰ç‚¹é¸¡è‚‹/(ã„’oã„’)/~~ï¼‰ -->
<script>
    var bgchoice = "default"
    var bg = $('#bg');
    var bgurl = document.getElementById("bgurl").innerHTML;
    if (bgchoice == 'default')
    {
        for (var i = 0; i < 3; i++)
            bgurl = bgurl.replace("\\", "/");
        bgurl = "https://dustmm.github.io/" + bgurl;
    }
    bg.css("background", "url('" + bgurl + "')");

    window.onload = function () {
        aplayerbtnInit();
    }
</script>
<!------------ åŠ è½½å…¨å±€èƒŒæ™¯å›¾åŠŸèƒ½ğŸ‘†ï¼ˆå¼€å§‹æ—¶æ²¡æœ‰å†™å¥½ï¼Œè¿™åŠŸèƒ½æœ‰ç‚¹é¸¡è‚‹/(ã„’oã„’)/~~ï¼‰ -->




<script src="https://dustmm.github.io/media/js/index.js"></script>


<script>
    //åŠ è½½åçš„äº‹ä»¶åŒæ­¥ï¼ˆé˜…è¯»é‡ã€ç§»åŠ¨ç«¯è¯„è®ºç­‰
    window.onload = function () {
    //ä»£ç å—é«˜äº®æ¸²æŸ“
    document.querySelectorAll('pre code').forEach((block) => {
            hljs.highlightBlock(block);
            hljs.lineNumbersBlock(block);
    });
        getHotnum();
        var sharepc = $(".share").eq(0).html();
        $(".share").eq(1).html(sharepc);   //æ’ä»¶åªä¼šå¯»æ‰¾ä¸€ä¸ªåˆ†äº«æ ‡ç­¾æ¸²æŸ“ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨æ·»åŠ åˆ°ç§»åŠ¨ç«¯
        aplayerbtnInit();
        $(".hljs").css({
            "padding": "20px"
        })
    }
</script>

<!-- <script src="https://dustmm.github.io/media/js/av-min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@3.13.0/dist/av-min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@4.6.1/dist/av-live-query-min.js"></script> -->